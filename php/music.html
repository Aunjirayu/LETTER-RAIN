<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>For You </title>
    <link rel="icon" type="image/png" href="letter.png">

<style>
body{
  margin:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#fff1f5;
  font-family:"TH Sarabun New", sans-serif;
}

/* ‡∏Å‡∏≤‡∏£‡πå‡∏î */
.card{
  width:820px;
  height:440px;
  background:#f7d9ff;
  border-radius:28px;
  position:relative;
  box-shadow:0 18px 40px rgba(160,80,200,.35);
}

/* ===== ‡πÇ‡∏ô‡πâ‡∏ï ===== */
.note-wrap{
  position:absolute;
  left:80px;
  top:90px;
  transform:rotate(-8deg) scale(1);
  transition:all .5s ease;
  cursor:pointer;
}

/* ‡∏ï‡∏≠‡∏ô‡∏Ç‡∏¢‡∏≤‡∏¢ */
.note-wrap.active{
  transform:rotate(0deg) scale(1.25);
  z-index:10;
}

.note{
  background:#fff7a8;
  width:280px;
  padding:22px;
  border-radius:14px;
  box-shadow:0 10px 20px rgba(0,0,0,.2);
  position:relative;
  transition:box-shadow .4s;
}

.note-wrap.active .note{
  box-shadow:0 20px 40px rgba(0,0,0,.35);
}

/* ‡πÄ‡∏™‡πâ‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î */
.lines{
  font-size:22px;
  line-height:1.6;
  color:#888;
}

/* ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° */
.message{
  display:none;
  font-size:22px;
  line-height:1.6;
  color:#000;
}

/* ===== ‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ ===== */
.flowers{
  position:absolute;
  width:200px;
  bottom:-120px;
  right:-85px;
  transform:rotate(25deg);
}

.music{
  position:absolute;
  right:90px;
  top:100px;
}

.vinyl-box{
  display:flex;
  flex-direction:column;
  align-items:center;
}

.record{
  width:160px;
  height:160px;
  border-radius:50%;
  background:black;
  position:relative;
}

.record::after{
  content:"";
  width:24px;
  height:24px;
  background:#ff6f9c;
  border-radius:50%;
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
}

.player-controls{
  margin-top:18px;
  display:flex;
  gap:18px;
}

.player-controls button{
  width:42px;
  height:42px;
  border-radius:50%;
  border:none;
  background:white;
  box-shadow:0 6px 15px rgba(0,0,0,.15);
  font-size:18px;
  cursor:pointer;
}

#heart.active{
  color:hotpink;
}
/* ‡πÅ‡∏ú‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á */
.record{
  width:160px;
  height:160px;
  background:black;
  border-radius:50%;
  position:relative;
  display:flex;
  justify-content:center;
  align-items:center;
}

/* ‡∏Ñ‡∏∏‡πÇ‡∏£‡∏°‡∏¥ */
.kuromi{
  width:140px;
  z-index:2;
}

/* ‡∏´‡∏°‡∏∏‡∏ô */
.playing{
  animation: spin 3s linear infinite;
}

@keyframes spin{
  from{ transform:rotate(0deg); }
  to{ transform:rotate(360deg); }
}
.record.playing{
  animation: spin 3s linear infinite;
}

@keyframes spin{
  from{ transform: rotate(0deg); }
  to{ transform: rotate(360deg); }
}
.record.playing .kuromi{
  animation: bounce .6s ease-in-out infinite alternate;
}

@keyframes bounce{
  from{ transform: scale(1) rotate(0deg); }
  to{ transform: scale(1.05) rotate(3deg); }
}
#heart.active{
  color: hotpink;
  animation: pop .3s ease;
}

@keyframes pop{
  0%{ transform: scale(1); }
  50%{ transform: scale(1.4); }
  100%{ transform: scale(1); }
}
.progress-wrap{
  margin-top: 12px;
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 14px;
  color: #6b2d84;
}

.progress-bar{
  width: 180px;
  height: 6px;
  background: #e6c8f5;
  border-radius: 10px;
  cursor: pointer;
  overflow: hidden;
}

.progress{
  width: 0%;
  height: 100%;
  background: hotpink;
  border-radius: 10px;
}

.next-page{
  position: absolute;
  bottom: 20px;
  right: 20px;

  width: 50px;
  height: 50px;
  border-radius: 50%;
  border: none;

  background: white;
  font-size: 22px;
  cursor: pointer;

  box-shadow: 0 6px 15px rgba(0,0,0,0.2);
  transition: 0.2s;
}

.next-page:hover{
  transform: scale(1.1);
  background: #ffe6f2;
}


</style>
</head>

<body>

<div class="card">

  <!-- ‡πÇ‡∏ô‡πâ‡∏ï -->
  <div class="note-wrap" id="note" onclick="toggleNote()">
    <div class="note">

      <div class="lines" id="lines">
        ____________<br>
        ____________<br>
        ____________<br>
        ____________
      </div>

      <div class="message" id="message">
        ‡∏ú‡∏°‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à‡∏ó‡∏≥‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ<br>
        ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Å‡∏±‡∏ö‡∏ú‡∏°‡∏à‡∏£‡∏¥‡∏á ‡πÜ üíå
      </div>

      <img src="flower1.png" class="flowers">
    </div>
  </div>

<!-- ‡πÄ‡∏û‡∏•‡∏á -->
<div class="music">
  <div class="vinyl-box">

    <div class="record" id="record">
      <img src="kuromi7.png" class="kuromi">
    </div>

    <div class="player-controls">
      <button onclick="rewind()">‚èÆ</button>
      <button onclick="toggleMusic()" id="playBtn">‚ñ∂</button>
      <button onclick="forward()">‚è≠</button>
      <button onclick="toggleHeart()" id="heart">‚ô°</button>
    </div>
    <div class="progress-wrap">
  <span id="currentTime">0:00</span>

  <div class="progress-bar" onclick="seek(event)">
    <div class="progress" id="progress"></div>
  </div>

  <span id="duration">0:00</span>
</div>

  </div>

  <audio id="song" src="song1.mp3"></audio>
  <audio id="song" src="song2.mp3"></audio>
  <audio id="song" src="song3.mp3"></audio>
</div>

<button class="next-page" onclick="goNextPage()">‚û°</button>


<script>
let opened = false;

function toggleNote(){
  const note = document.getElementById("note");
  const lines = document.getElementById("lines");
  const message = document.getElementById("message");

  if(!opened){
    // ‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏ô‡πâ‡∏ï
    note.classList.add("active");
    lines.style.display = "none";
    message.style.display = "block";
    opened = true;
  }else{
    // ‡∏õ‡∏¥‡∏î‡πÇ‡∏ô‡πâ‡∏ï ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°
    note.classList.remove("active");
    message.style.display = "none";
    lines.style.display = "block";
    opened = false;
  }
}


function toggleMusic(){
  if(song.paused){
    song.play();
    record.classList.add("playing"); // ‚≠ê ‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡∏´‡∏°‡∏∏‡∏ô
  }else{
    song.pause();
    record.classList.remove("playing"); // ‚≠ê ‡∏´‡∏¢‡∏∏‡∏î‡∏´‡∏°‡∏∏‡∏ô
  }
}

const song = document.getElementById("song");
const record = document.getElementById("record");
const playBtn = document.getElementById("playBtn");
const kuromiImg = document.getElementById("kuromi");

const progressBar = document.querySelector(".progress-bar");
const progress = document.getElementById("progress");
const currentTimeEl = document.getElementById("currentTime");
const durationEl = document.getElementById("duration");

// üéµ playlist + ‡∏Ñ‡∏∏‡πÇ‡∏£‡∏°‡∏¥
const playlist = [
  { src: "song1.mp3", kuromi: "kuromi7.png" },
  { src: "song2.mp3", kuromi: "kuromi2.png" }, // ‚úÖ ‡πÄ‡∏≠‡∏≤‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡∏£‡∏£‡∏Ñ‡∏≠‡∏≠‡∏Å
  { src: "song3.mp3", kuromi: "kuromi3.png" }
];

let currentSong = 0;

/* ===== ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏û‡∏•‡∏á + ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ===== */
function loadSong(index){
  song.pause();
  song.currentTime = 0;

  song.src = playlist[index].src;
  kuromiImg.src = playlist[index].kuromi;

  song.load();

  song.play().then(() => {
    record.classList.add("playing");
    playBtn.innerHTML = "‚è∏";
  }).catch(err => {
    console.log("Play error:", err);
  });
}

/* ‚ñ∂ / ‚è∏ */
function toggleMusic(){
  if(song.paused){
    song.play();
    record.classList.add("playing");
    playBtn.innerHTML = "‚è∏";
  }else{
    song.pause();
    record.classList.remove("playing");
    playBtn.innerHTML = "‚ñ∂";
  }
}

/* ‚è≠ ‡πÄ‡∏û‡∏•‡∏á‡∏ñ‡∏±‡∏î‡πÑ‡∏õ */
function forward(){
  currentSong = (currentSong + 1) % playlist.length;
  loadSong(currentSong);
}

/* ‚èÆ ‡πÄ‡∏û‡∏•‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤ */
function rewind(){
  currentSong = (currentSong - 1 + playlist.length) % playlist.length;
  loadSong(currentSong);
}

/* ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏û‡∏•‡∏á */
song.addEventListener("timeupdate", () => {
  if(song.duration){
    const percent = (song.currentTime / song.duration) * 100;
    progress.style.width = percent + "%";
    currentTimeEl.textContent = formatTime(song.currentTime);
  }
});

song.addEventListener("loadedmetadata", () => {
  durationEl.textContent = formatTime(song.duration);
});

/* ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏•‡∏á */
function seek(e){
  const width = progressBar.clientWidth;
  const clickX = e.offsetX;
  song.currentTime = (clickX / width) * song.duration;
}

/* ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤ */
function formatTime(sec){
  const m = Math.floor(sec / 60);
  const s = Math.floor(sec % 60).toString().padStart(2,"0");
  return `${m}:${s}`;
}

/* ‡πÄ‡∏û‡∏•‡∏á‡∏à‡∏ö ‚Üí ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ */
song.addEventListener("ended", forward);

/* ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏û‡∏•‡∏á‡πÅ‡∏£‡∏Å */
loadSong(currentSong);

function goNextPage(){
  window.location.href = "game.html"; // üëà ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏õ
}


</script>


</body>
</html>
